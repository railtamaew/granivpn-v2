# üîó –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Frontend —Å Backend API

## üìä –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å: **–ì–û–¢–û–í –ö –ó–ê–ü–£–°–ö–£ –ù–ê –°–ï–†–í–ï–†–ï** ‚úÖ

### ‚úÖ **–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**

#### Backend API:
- ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ API —Å–æ–∑–¥–∞–Ω–∞** - –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ –≥–æ—Ç–æ–≤—ã
- ‚úÖ **–†–æ—É—Ç–µ—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã** - auth, admin, payments, vpn, yandex_direct
- ‚úÖ **–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö** - User, Subscription, Server, Payment
- ‚úÖ **–°–µ—Ä–≤–∏—Å—ã** - AuthService, VPNService, PaymentService
- ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - CORS, JWT, Database settings
- ‚úÖ **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è API** - –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ **Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ VPS

#### Frontend (Admin Panel):
- ‚úÖ **API –∫–ª–∏–µ–Ω—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω** - axios —Å –∏–Ω—Ç–µ—Ä—Ü–µ–ø—Ç–æ—Ä–∞–º–∏
- ‚úÖ **–°–µ—Ä–≤–∏—Å—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã** - authService, usersService, paymentsService
- ‚úÖ **CORS —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ **JWT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - —Ç–æ–∫–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ localStorage

#### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- ‚úÖ **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** - SERVER_SETUP_INSTRUCTIONS.md
- ‚úÖ **–¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã** - test-integration.py
- ‚úÖ **–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π API** - simple_api.py –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### üöÄ **–ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É:**

#### –ù–∞ VPS —Å–µ—Ä–≤–µ—Ä–µ (94.131.107.227):
- üöÄ **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É** - –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞ –≥–æ—Ç–æ–≤—ã
- üöÄ **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- üöÄ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - PostgreSQL + Redis –≥–æ—Ç–æ–≤—ã
- üöÄ **API endpoints** - –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

### ‚è≥ **–û–∂–∏–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

#### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
- ‚è≥ **–ó–∞–ø—É—Å–∫ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤** - docker-compose up -d
- ‚è≥ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ endpoints
- ‚è≥ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤** - Let's Encrypt
- ‚è≥ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ DNS –∑–∞–ø–∏—Å–µ–π** - api.granivpn.ru

#### Frontend:
- ‚è≥ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ** - —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API
- ‚è≥ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - 401, 403, 500
- ‚è≥ **Refresh —Ç–æ–∫–µ–Ω–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**

### API Endpoints:
```
POST /api/auth/login          - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
POST /api/auth/refresh        - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
GET  /api/admin/me           - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
GET  /api/admin/users        - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
GET  /api/admin/dashboard    - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
GET  /api/admin/payments     - –ü–ª–∞—Ç–µ–∂–∏
GET  /api/vpn/servers        - VPN —Å–µ—Ä–≤–µ—Ä—ã
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- **API URL**: http://localhost:8000 (dev) / https://api.granivpn.ru (prod)
- **CORS Origins**: http://localhost:3000, https://admin.granivpn.ru
- **JWT Secret**: granivpn-super-secret-key-2024
- **Token Expiry**: 30 –º–∏–Ω—É—Ç

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
```typescript
// Login Response
{
  access_token: string;
  token_type: string;
  user_id: number;
  email: string;
}

// User Info
{
  id: number;
  email: string;
  username: string;
  role: 'admin' | 'user';
  isActive: boolean;
  createdAt: string;
}
```

## üöÄ **–ù–ï–ú–ï–î–õ–ï–ù–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø:**

### 1. **–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É**
```bash
ssh root@94.131.107.227
# –ü–∞—Ä–æ–ª—å: oNa68L43zFe8
```

### 2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å backend**
```bash
cd /root/server-config/docker
docker-compose up -d --build
```

### 3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É API**
```bash
curl http://localhost:8000/health
curl http://localhost:8000/api/test
```

### 4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Admin Panel**
- –û—Ç–∫—Ä—ã—Ç—å https://astounding-meringue-5ae9bc.netlify.app
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤–æ–π—Ç–∏ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã

## üìù **–ó–∞–º–µ—Ç–∫–∏:**

- ‚úÖ Backend –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É –Ω–∞ VPS
- ‚úÖ Frontend —Å–µ—Ä–≤–∏—Å—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –í—Å–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- ‚è≥ –û–∂–∏–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–∞–ø—É—Å–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## üîó **–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:**

- **Admin Panel**: https://astounding-meringue-5ae9bc.netlify.app
- **Mobile App**: https://gliaming-brioche-b0b809.netlify.app
- **VPS Server**: 94.131.107.227
- **GitHub**: https://github.com/railtamaew/granivpn-admin
- **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏**: SERVER_SETUP_INSTRUCTIONS.md

---

*–û—Ç—á–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω: 19 –∞–≤–≥—É—Å—Ç–∞ 2024*
*–°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ*
