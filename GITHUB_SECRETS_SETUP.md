# üîê –ù–ê–°–¢–†–û–ô–ö–ê GITHUB SECRETS –î–õ–Ø –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ì–û –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø

## üéØ –¶–µ–ª—å
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Secrets –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è GraniVPN –≤ DigitalOcean —á–µ—Ä–µ–∑ GitHub Actions.

## üìã –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ–∫—Ä–µ—Ç—ã

### üîë –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã –¥–ª—è DigitalOcean:

#### 1. `DIGITALOCEAN_ACCESS_TOKEN`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –∫ DigitalOcean API
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å**:
  1. –í–æ–π–¥–∏—Ç–µ –≤ [DigitalOcean](https://cloud.digitalocean.com)
  2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **API** ‚Üí **Tokens/Keys**
  3. –ù–∞–∂–º–∏—Ç–µ **Generate New Token**
  4. –í—ã–±–µ—Ä–∏—Ç–µ **Write** –ø—Ä–∞–≤–∞
  5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

#### 2. `DIGITALOCEAN_REGISTRY`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ò–º—è Container Registry –≤ DigitalOcean
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å**:
  1. –í DigitalOcean –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Container Registry**
  2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π registry (–Ω–∞–ø—Ä–∏–º–µ—Ä, `granivpn-registry`)
  3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–º—è registry

#### 3. `DIGITALOCEAN_APP_ID`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ DigitalOcean App Platform
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å**:
  1. –°–æ–∑–¥–∞–π—Ç–µ App –≤ **App Platform**
  2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID –∏–∑ URL –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫

#### 4. `DOMAIN_NAME`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –í–∞—à –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `granivpn.com`)
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å**: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –¥–æ–º–µ–Ω –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π

#### 5. `DNS_A_RECORD_ID`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: ID DNS A –∑–∞–ø–∏—Å–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å**:
  1. –í DigitalOcean –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Networking** ‚Üí **Domains**
  2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω
  3. –ù–∞–π–¥–∏—Ç–µ A –∑–∞–ø–∏—Å—å –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ—ë ID

#### 6. `DIGITALOCEAN_LOAD_BALANCER_IP`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: IP –∞–¥—Ä–µ—Å Load Balancer
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å**:
  1. –°–æ–∑–¥–∞–π—Ç–µ Load Balancer –≤ **Networking**
  2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ IP –∞–¥—Ä–µ—Å

### üîë –°–µ–∫—Ä–µ—Ç—ã –¥–ª—è SSH —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

#### 7. `DROPLET_HOST`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ DigitalOcean Droplet
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å**: IP –∞–¥—Ä–µ—Å Droplet –∏–∑ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### 8. `DROPLET_USER`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è SSH (–æ–±—ã—á–Ω–æ `root`)
- **–ó–Ω–∞—á–µ–Ω–∏–µ**: `root`

#### 9. `DROPLET_SSH_KEY`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å**:
  1. –°–æ–∑–¥–∞–π—Ç–µ SSH –∫–ª—é—á: `ssh-keygen -t rsa -b 4096`
  2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ (`~/.ssh/id_rsa`)

#### 10. `DROPLET_PORT`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: SSH –ø–æ—Ä—Ç (–æ–±—ã—á–Ω–æ 22)
- **–ó–Ω–∞—á–µ–Ω–∏–µ**: `22`

### üîë –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã:

#### 11. `SLACK_WEBHOOK` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–û–ø–∏—Å–∞–Ω–∏–µ**: Webhook URL –¥–ª—è Slack —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Slack app –∏ –ø–æ–ª—É—á–∏—Ç–µ webhook URL

## üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `https://github.com/railtamaew/granivpn-v2`
2. –ù–∞–∂–º–∏—Ç–µ **Settings** (–≤–∫–ª–∞–¥–∫–∞)

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ Secrets and variables
1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ **Secrets and variables** ‚Üí **Actions**
2. –ù–∞–∂–º–∏—Ç–µ **New repository secret**

### –®–∞–≥ 3: –î–æ–±–∞–≤—å—Ç–µ –∫–∞–∂–¥—ã–π —Å–µ–∫—Ä–µ—Ç
–î–æ–±–∞–≤–ª—è–π—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –ø–æ –æ–¥–Ω–æ–º—É:

```
Name: DIGITALOCEAN_ACCESS_TOKEN
Value: [–≤–∞—à —Ç–æ–∫–µ–Ω]

Name: DIGITALOCEAN_REGISTRY
Value: [–∏–º—è registry]

Name: DOMAIN_NAME
Value: [–≤–∞—à –¥–æ–º–µ–Ω]

Name: DROPLET_HOST
Value: [IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞]

Name: DROPLET_USER
Value: root

Name: DROPLET_SSH_KEY
Value: [—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞]

Name: DROPLET_PORT
Value: 22
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Actions** –≤–∫–ª–∞–¥–∫—É
2. –í—ã–±–µ—Ä–∏—Ç–µ workflow **Deploy GraniVPN to Production**
3. –ù–∞–∂–º–∏—Ç–µ **Run workflow**
4. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É **main**
5. –ù–∞–∂–º–∏—Ç–µ **Run workflow**

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:
1. ‚úÖ GitHub Actions –∑–∞–ø—É—Å—Ç–∏—Ç —Ç–µ—Å—Ç—ã
2. ‚úÖ –°–æ–±–µ—Ä–µ—Ç Docker –æ–±—Ä–∞–∑—ã
3. ‚úÖ –û—Ç–ø—Ä–∞–≤–∏—Ç –∏—Ö –≤ DigitalOcean Container Registry
4. ‚úÖ –†–∞–∑–≤–µ—Ä–Ω–µ—Ç –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ
5. ‚úÖ –û–±–Ω–æ–≤–∏—Ç DNS –∑–∞–ø–∏—Å–∏
6. ‚úÖ –û—Ç–ø—Ä–∞–≤–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
- üåê –í–∞—à —Å–∞–π—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `https://granivpn.com`
- üì± Mobile App: `https://mobile.granivpn.com`
- üñ•Ô∏è Admin Panel: `https://admin.granivpn.com`
- üîß API: `https://api.granivpn.com`

## üÜò –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ workflow –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ workflow —Ñ–∞–π–ª—ã –≤ `.github/workflows/`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é

### –ï—Å–ª–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–µ —É–¥–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ GitHub Actions
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ SSH
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ DigitalOcean API

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤:
1. **Push –≤ main –≤–µ—Ç–∫—É** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
2. **Pull Request** –∑–∞–ø—É—Å—Ç–∏—Ç —Ç–µ—Å—Ç—ã
3. **Manual trigger** –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ **Actions** ‚Üí **Run workflow**

---

*–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ GitHub Secrets –¥–ª—è GraniVPN*
*–î–∞—Ç–∞: $(date)*
*–°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤–æ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ*
